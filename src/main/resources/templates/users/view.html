<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>Users : View</title>
    <script type="text/javascript">
	$(document).ready(function() {
	    $("#deleteUser").click(function(e) {
	    	e.preventDefault();
	    	var homePage = window.location.protocol + '//' + window.location.host;
	    	$.ajax({
	    	    url: homePage + $(this).attr('href'),
	    	    type: 'DELETE',
	    	    success: function(result) {
	    	        window.location= homePage;
	    	    },
	    	    error: function (request, status, error) {
	    	        alert('Error:'+ request.responseText);
	    	    }

	    	});
	    });
	});
</script>
</head>
<body>
<h1 layout:fragment="header">Users : Create</h1>
<div layout:fragment="content" class="container">
    <div class="alert alert-success" th:if="${param.globalMessage}"
         th:text="${param.globalMessage}">Some Success message</div>
    <div class="pull-right">
        <a th:href="@{/user/}" href="list.html"> Users </a>
    </div>
    <dl>
        <dt>ID</dt>
        <dd id="id" th:text="${user.id}">123</dd>
        <dt>Date</dt>
        <dd id="created" th:text="${#temporals.formatISO(user.created)}">
            July 11, 2012 2:17:16 PM CDT</dd>
        <dt>Username</dt>
        <dd id="username" th:text="${user.username}">Username
        </dd>
    </dl>
    <div class="pull-left">
        <a id="deleteUser" href="users" th:href="@{'/user/delete/' + ${user.id}}">
            delete </a> | <a href="form.html"
                             th:href="@{'/user/modify/' + ${user.id}}"> modify </a>
    </div>
</div>
</body>
</html>